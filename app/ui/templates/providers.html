{% extends "base.html" %}
{% block content %}
<h1>Providers</h1>
{% if error == "exists" %}
<p class="small">A provider with that name already exists.</p>
{% endif %}
<div class="card">
  <form method="post" action="/providers/add">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
    <label>Name<input name="name" required /></label>
    <label>Specialty<input name="specialty" placeholder="Cardiology, Primary Care, etc." /></label>
    <label>Selector Color<input name="selector_color" type="color" value="#C2185B" /></label>
    <label>Estimated Co-pay (cents)<input name="estimated_copay_cents" type="number" min="0" value="0" /></label>
    <label>Notes<textarea name="notes" rows="3" placeholder="Phone number, office tips, referral notes"></textarea></label>
    <label>Adapter
      <select name="adapter_key">{% for a in adapters %}<option value="{{ a }}">{{ a }}</option>{% endfor %}</select>
    </label>
    <button type="submit">Add Provider</button>
  </form>
</div>
<div class="card">
  <table>
    <tr><th>Name</th><th>Specialty</th><th>Color</th><th>Co-pay (cents)</th><th>Notes</th><th>Status</th></tr>
    {% for p in providers %}
    <tr>
      <td>{{ p.name }}</td>
      <td>{{ p.specialty or "-" }}</td>
      <td><span class="color-chip" style="background: {{ p.selector_color }};"></span> {{ p.selector_color }}</td>
      <td>{{ p.estimated_copay_cents }}</td>
      <td>{{ p.notes or "-" }}</td>
      <td>{{ p.status }}</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
